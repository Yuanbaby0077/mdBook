vue3.0学习计划

vue3.0的亮点

https://vue-next-template-explorer.netlify.app/

* 为什么比vue2快1.2倍
    * diff算法 静态标记
    * 静态提升
    * 事件监听缓存

### 静态提升
```
<div>Hello World1!</div>
<div>{{ msg }}</div>
```
* 静态提升之前

```
import { createVNode as _createVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock } from "vue"

export function render(_ctx, _cache, $props, $setup, $data, $options) {
  return (_openBlock(), _createBlock(_Fragment, null, [
    _createVNode("div", null, "Hello World1!"),
    _createVNode("div", null, _toDisplayString(_ctx.msg), 1 /* TEXT */),
    _createVNode("div", null, _toDisplayString(_ctx.msg2), 1 /* TEXT */)
  ], 64 /* STABLE_FRAGMENT */))
}

// Check the console for the AST
```

静态提升之后

```
import { createVNode as _createVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock } from "vue"

const _hoisted_1 = /*#__PURE__*/_createVNode("div", null, "Hello World1!", -1 /* HOISTED */)

export function render(_ctx, _cache, $props, $setup, $data, $options) {
  return (_openBlock(), _createBlock(_Fragment, null, [
    _hoisted_1,
    _createVNode("div", null, _toDisplayString(_ctx.msg), 1 /* TEXT */)
}

// Check the console for the AST
```

### 事件监听缓存：

```
<button @click="handleClick"></button>
```

* 缓存之前

```
import { openBlock as _openBlock, createBlock as _createBlock } from "vue"

export function render(_ctx, _cache, $props, $setup, $data, $options) {
  return (_openBlock(), _createBlock("button", { onClick: _ctx.handleClick }, null, 8 /* PROPS */, ["onClick"]))
}
```

* 缓存之后

```
export function render(_ctx, _cache, $props, $setup, $data, $options) {
  return (_openBlock(), _createBlock("button", {
    onClick: _cache[1] || (_cache[1] = (...args) => (_ctx.handleClick && _ctx.handleClick(...args)))
  }))
}
```