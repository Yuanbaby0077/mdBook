## Proxy支持的拦截操作

一共13种

* `get(target, propKey, receiver)`: 拦截对象的读取
* `set(target, propKey, receiver)`: 拦截对象的设置
* `has(target, propKey)`：拦截`propKey in target`操作，对`for......in 和 hasOwnProperty`不生效
* `delete(target, propKey)`：拦截`delete target[propKey]`操作
* `ownKeys(target)`：拦截`Object.getOwnPropertyNames(proxy),Object.keys(proxy),Object.getOwnPropertySymbols(proxy),for ... in`操作，返回一个数组，返回目标对象的所有自身的属性，而`Object.keys(proxy)`返回自身可遍历（枚举）属性
* `getOwnPropertyDescriptor(target, propKey)` 拦截 `Object.getOwnPropertyDescriptor(target, propKey)`，返回属性的描述对象。
* `defineProperty(target, propKey, propDesc)` 拦截......
* `getPrototypeOf(target)`拦截......
* `isExtensible(target)`拦截。。。。。。
* `setPrototypeOf(target, proto)`拦截。。。。。。
* `apply(target, object, args)`：拦截proxy实例作为函数调用的操作，`proxy(...args),proxy.call(object, ...args), proxy.apply(object, [...args])`
* `construct(target, args)`拦截proxy作为构造函数调用的操作，比如 `new proxy(...args)`

```
var fproxy = new Proxy(function(x, y) {
    return x + y
}, {
    set(target, prop, receiver) {
        console.log('set', prop)
        return Reflect.set(target, prop, receiver)
    },
    get(target, prop, receiver) {
        console.log('get', prop)
        return Reflect.get(target, prop, receiver)
    },
    has(target, prop) {
        console.log('has', prop)
        return true
    },
    deleteProperty(target, prop) {
        console.log('delete', prop)
        return true
    },
    apply(target, object, args) {
      console.log(target, object, args)
      return args
    },
    construct(target, args) {
      return {
        value: args[0] + args[1]
      }
    }
})

fproxy.foo = '333' // set
fproxy.foo // get
'foo' in fproxy // has
delete fproxy.foo // delete
var c = new fproxy(3,4)
```

## 拦截数组
```
var arr = [1, 2, 3]
let obj = new Proxy(arr, {
    get: function (target, key, receiver) {
        console.log("get" + target, key);
        return Reflect.get(target, key, receiver);
    },
    set: function (target, key, receiver) {
        console.log('set', key);
        return Reflect.set(target, key, receiver);
    }
})
obj.push(5) // (3) [1, 2, 3] push ; [1, 2, 3] length; set 3; set length
obj.splice(0, 1, 4)
```
